
<script type="syntaxhighlighter" class="brush: ruby"><![CDATA[
  f = Fiber.new{} # f contains new thread of execution.
  f.resume # runs the code
  f.resume # raises "FiberError: dead fiber called"
  f = Fiber.new{ puts "I ran first time" ; Fiber.yield ; puts "ran after"}
  f.resume # prints 'I ran first time'
  f.resume # prints 'ran after'
  f.resume # raises "FiberError: dead fiber called"
  f = Fiber.new{ x = 200 ; y = Fiber.yield(x) ; puts "Got #{y}"}
  f.resume # prints 200
  f.resume(300) # prints Got 300
  f = Fiber.new{ x = 200 ;  Fiber.yield(Fiber.current) }.resume
  x = f.resume("return me") 
  ]]></script>

